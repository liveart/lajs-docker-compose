parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"6I8K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e="handshake",n="handshake-reply",r="call",t="reply",o="fulfilled",a="rejected",i="message",c="DataCloneError",d=exports.ERR_CONNECTION_DESTROYED="ConnectionDestroyed",u=exports.ERR_CONNECTION_TIMEOUT="ConnectionTimeout",s=exports.ERR_NOT_IN_IFRAME="NotInIframe",l={"http:":"80","https:":"443"},m=/^(https?:)?\/\/([^\/:]+)(:(\d+))?/,v={ERR_CONNECTION_DESTROYED:d,ERR_CONNECTION_TIMEOUT:u,ERR_NOT_IN_IFRAME:s,Promise:function(){try{return window?window.Promise:null}catch(e){return null}}(),debug:!1},f=function(){var e=0;return function(){return++e}}(),p=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var t;v.debug&&(t=console).log.apply(t,["[Penpal]"].concat(n))},h=function(e){var n=document.location,r=m.exec(e),t=void 0,o=void 0,a=void 0;return r?(t=r[1]?r[1]:n.protocol,o=r[2],a=r[4]):(t=n.protocol,o=n.hostname,a=n.port),t+"//"+o+(a&&a!==l[t]?":"+a:"")},E=function(e){var n=[];return e(function(){n.forEach(function(e){e()})}),{then:function(e){n.push(e)}}},g=function(e){return{name:e.name,message:e.message,stack:e.stack}},w=function(e){var n=new Error;return Object.keys(e).forEach(function(r){return n[r]=e[r]}),n},N=function(e,n,a,c){var u=n.localName,s=n.local,l=n.remote,m=n.remoteOrigin,h=!1;p(u+": Connecting call sender");c.then(function(){h=!0}),a.reduce(function(e,n){return e[n]=function(e){return function(){for(var n=arguments.length,a=Array(n),c=0;c<n;c++)a[c]=arguments[c];if(p(u+": Sending "+e+"() call"),h){var E=new Error("Unable to send "+e+"() call due to destroyed connection");throw E.code=d,E}return new v.Promise(function(n,c){var d=f();s.addEventListener(i,function r(a){if(a.source===l&&a.origin===m&&a.data.penpal===t&&a.data.id===d){p(u+": Received "+e+"() reply"),s.removeEventListener(i,r);var v=a.data.returnValue;a.data.returnValueIsError&&(v=w(v)),(a.data.resolution===o?n:c)(v)}}),l.postMessage({penpal:r,id:d,methodName:e,args:a},m)})}}(n),e},e)},y=function(e,n,d){var u=e.localName,s=e.local,l=e.remote,m=e.remoteOrigin,f=!1;p(u+": Connecting call receiver");var h=function(e){if(e.source===l&&e.origin===m&&e.data.penpal===r){var i=e.data,d=i.methodName,s=i.args,h=i.id;if(p(u+": Received "+d+"() call"),d in n){var E=function(e){return function(n){if(p(u+": Sending "+d+"() reply"),f)p(u+": Unable to send "+d+"() reply due to destroyed connection");else{var r={penpal:t,id:h,resolution:e,returnValue:n};e===a&&n instanceof Error&&(r.returnValue=g(n),r.returnValueIsError=!0);try{l.postMessage(r,m)}catch(e){throw e.name===c&&l.postMessage({penpal:t,id:h,resolution:a,returnValue:g(e),returnValueIsError:!0},m),e}}}};new v.Promise(function(e){return e(n[d].apply(n,s))}).then(E(o),E(a))}}};s.addEventListener(i,h),d.then(function(){f=!0,s.removeEventListener(i,h)})};v.connectToChild=function(r){var t=r.url,o=r.appendTo,a=r.methods,c=void 0===a?{}:a,s=r.timeout,l=void 0,m=new E(function(e){l=e}),f=window,g=document.createElement("iframe");(o||document.body).appendChild(g),m.then(function(){g.parentNode&&g.parentNode.removeChild(g)});var w=g.contentWindow||g.contentDocument.parentWindow,C=h(t);return{promise:new v.Promise(function(r,o){var a=void 0;void 0!==s&&(a=setTimeout(function(){var e=new Error("Connection to child timed out after "+s+"ms");e.code=u,o(e),l()},s));var v={},h=void 0,O=void 0,T=function(t){if(t.source===w&&t.origin===C&&t.data.penpal===e){p("Parent: Received handshake, sending reply"),t.source.postMessage({penpal:n,methodNames:Object.keys(c)},t.origin);var o={localName:"Parent",local:f,remote:w,remoteOrigin:t.origin};O&&O();var i=new E(function(e){m.then(e),O=e});y(o,c,i),h&&h.forEach(function(e){delete v[e]}),h=t.data.methodNames,N(v,o,h,m),clearTimeout(a),r(v)}};f.addEventListener(i,T),m.then(function(){f.removeEventListener(i,T);var e=new Error("Connection destroyed");e.code=d,o(e)}),p("Parent: Loading iframe"),g.src=t}),iframe:g,destroy:l}},v.connectToParent=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.parentOrigin,o=void 0===t?"*":t,a=r.methods,c=void 0===a?{}:a,l=r.timeout;if(window===window.top){var m=new Error("connectToParent() must be called within an iframe");throw m.code=s,m}var f=void 0,h=new E(function(e){f=e}),g=window,w=g.parent;return{promise:new v.Promise(function(r,t){var a=void 0;void 0!==l&&(a=setTimeout(function(){var e=new Error("Connection to parent timed out after "+l+"ms");e.code=u,t(e),f()},l));var s=function e(t){if(("*"===o||o===t.origin)&&t.source===w&&t.data.penpal===n){p("Child: Received handshake reply"),g.removeEventListener(i,e);var d={localName:"Child",local:g,remote:w,remoteOrigin:t.origin},u={};y(d,c,h),N(u,d,t.data.methodNames,h),clearTimeout(a),r(u)}};g.addEventListener(i,s),h.then(function(){g.removeEventListener(i,s);var e=new Error("Connection destroyed");e.code=d,t(e)}),p("Child: Sending handshake"),w.postMessage({penpal:e,methodNames:Object.keys(c)},o)}),destroy:f}},exports.default=v;
},{}],"zQYr":[function(require,module,exports) {
"use strict";var e=require("penpal"),r=n(e);function n(e){return e&&e.__esModule?e:{default:e}}!function(){var e={onPlaceOrder:[]};window.liveArtIframeLoader={};var n=null;window.liveArtIframeApi={on:function(r,n){void 0===e[r]?console.error('"'+r+'" is not supported.'):e[r].push(n)},showPreloader:function(e){n&&n.showPreloader(e)},hidePreloader:function(){n&&n.hidePreloader()},prepareVisuals:function(e){if(n)return"string"!=typeof e?console.error("Please pass valid 'designId' argument in 'prepareVisuals'."):n.prepareVisuals(e)},getDesignInformation:function(e){if(n)return"string"!=typeof e?console.error("Please pass valid 'designId' argument in 'getDesignInformation'."):n.getDesignInformation(e)}},window.liveArtIframeLoader.load=function(o,i,t){return r.default.connectToChild({url:i,appendTo:document.querySelector(o),methods:{notify:function(r){e[r.type]&&e[r.type].forEach(function(e){return e(r.payload)})}}}).promise.then(function(e){return n=e,e.init(t),window.liveArtIframeApi})}}();
},{"penpal":"6I8K"}]},{},["zQYr"], null)
//# sourceMappingURL=/iframe-loader.map